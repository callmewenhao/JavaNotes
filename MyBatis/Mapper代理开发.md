# Mapper ä»£ç†å¼€å‘

Mapper ä»£ç†å¼€å‘æ˜¯ä¼ä¸šä¸­æœ€ä¸ºä¸»æµçš„å¼€å‘æ–¹å¼

æ­¥éª¤ï¼š
- ç¼–å†™æ¥å£æ–¹æ³•
- ç¼–å†™ SQL
- æ‰§è¡Œæ–¹æ³•

å¿«é€Ÿå…¥é—¨ä¸­æ‰§è¡Œ sql è¯­å¥æ—¶è¿˜æ˜¯æœ‰ç¡¬ç¼–ç çš„é—®é¢˜

```java
// 2. è·å– SqlSession å¯¹è±¡ ç”¨å®ƒæ¥æ‰§è¡Œ SQL è¯­å¥
List<User> users = null;
// ğŸ‘‡è¿™ç§ try() çš„å†™æ³•å¯ä»¥è‡ªåŠ¨é‡Šæ”¾èµ„æº
// 3. æ‰§è¡Œ sql è¯­å¥
try (SqlSession session = sqlSessionFactory.openSession()) {
    users = session.selectList("user.selectAll");  // å‘½åç©ºé—´.sqlè¯­å¥id
}
```

Mapper ä»£ç†å¼€å‘çš„ç›®çš„
- è§£å†³åŸç”Ÿæ–¹å¼ä¸­çš„ç¡¬ç¼–ç 
- ç®€åŒ–åæœŸæ‰§è¡ŒSQL

```java
// è·å–æ¥å£ä»£ç†å¯¹è±¡
UserMapper userMapper = sqlSession.getMapper(UserMapper.class)
// æ‰§è¡Œæ–¹æ³•ï¼Œå…¶å®å°±æ˜¯æ‰§è¡Œ sql è¯­å¥
List<User> users = userMapper.selectAll();
```

ä½¿ç”¨ Mapper ä»£ç†æ–¹å¼å®Œæˆå…¥é—¨æ¡ˆä¾‹
1. å®šä¹‰ä¸ SQL æ˜ å°„æ–‡ä»¶åŒåçš„ Mapper æ¥å£ï¼Œå¹¶ä¸”å°† Mapper æ¥å£å’Œ SQL æ˜ å°„æ–‡ä»¶æ”¾ç½®åœ¨åŒä¸€ç›®å½•ä¸‹
2. è®¾ç½® SQL æ˜ å°„æ–‡ä»¶çš„ namespace å±æ€§ä¸º Mapper æ¥å£å…¨é™å®šå
3. åœ¨ Mapper æ¥å£ä¸­å®šä¹‰æ–¹æ³•ï¼Œæ–¹æ³•åå°±æ˜¯ SQL æ˜ å°„æ–‡ä»¶ä¸­ sql è¯­å¥çš„ idï¼Œå¹¶ä¿æŒå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸€è‡´
4. ç¼–ç 
    - é€šè¿‡ SqlSession çš„ getMapper æ–¹æ³•è·å– Mapper æ¥å£çš„ä»£ç†å¯¹è±¡
    - è°ƒç”¨å¯¹åº”æ–¹æ³•å®Œæˆ SQL çš„æ‰§è¡Œ

ç»†èŠ‚ï¼šå¦‚æœ Mapper æ¥å£åç§°å’Œ SQL æ˜ å°„æ–‡ä»¶åç§°ç›¸åŒï¼Œå¹¶åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åŒ…æ‰«æçš„æ–¹å¼ç®€åŒ– SQL æ˜ å°„æ–‡ä»¶çš„åŠ è½½





